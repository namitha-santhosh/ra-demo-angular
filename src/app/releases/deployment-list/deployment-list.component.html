<button style="float:right" mat-mini-fab color="primary" (click)="openModal()" matTooltip="Create new deployment">
  <mat-icon>add</mat-icon>
</button>
<div *ngIf="deployments.length > 0; else noDeployments">
    <table mat-table [dataSource]="deployments" class="mat-elevation-z8">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let deployment"> {{ deployment.slug }} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let deployment">
          <button mat-icon-button color="warn" (click)="deleteDeployment(deployment.slug)" matTooltip="Delete Deployment">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>  

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  
  <ng-template #noDeployments>
    <p>No deployments available for this release.</p>
  </ng-template>
  
  <div *ngIf="isModalOpen" class="modal-container">
    <div class="modal-content">
      <pm-create-deployment-modal
        [releaseName]="releaseName"
        [isOpen]="isModalOpen"
        (close)="closeModal()"
        (save)="saveDeployment($event)">
    </pm-create-deployment-modal>
    </div>
  </div>